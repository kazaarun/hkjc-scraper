<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ date }} - Race no. {{ race }}</title>
</head>
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<body>
<a class="btn btn-primary" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 20 20">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>Back to search</a>
<main role="main" class="container">
<h1 class="text-center">{{ date }} - Race no. {{ race }}</h1>

<div class="row mt-4">
<div class="col">
<h2>Dividends</h2>
<table class="table table-bordered">
    <thead><tr><th>Pool</th><th>Winning Combination</th><th>Dividend (HK$)</th></tr></thead>
    {% for row in dividends %}
        <tr>
        {% for el in row %}
            <td>{{ el }}</td>
        {% endfor %}
        </tr>
    {% endfor %}
</table>
</div>

<div class="col">
<h2>Bets</h2>
<table class="table table-bordered">
    <thead><tr><th>Pool</th><th>Combination</th><th>Amount</th></tr></thead>
    {% for row in bets %}
        <tr>
        {% for el in row %}
            <td>{{ el }}</td>
        {% endfor %}
        </tr>
    {% endfor %}
</table>
</div>
</div>

<div class="row mt-4">
<h2>Bet P/L</h2>
<table id="pl-table" class="table">
    <thead><tr><th>Pool</th><th>Combination</th><th>Amount</th><th>Dividend</th><th>Profit/Loss</th></tr></thead>
    {% for row in bet_res %}
        <tr>
        {% for el in row %}
            <td>{{ el }}</td>
        {% endfor %}
        </tr>
    {% endfor %}
    <tfoot><tr><th colspan="4">Net Profit/Loss:</th>
        <td>{{ netpl }}</td></tr></tfoot>
</table>
</div>

    </main>

</body>
<script>
    pltb=document.getElementById('pl-table')
    for(var i = 1; i < pltb.rows.length -1; i++) {
        if(parseFloat(pltb.rows[i].cells[4].textContent) < 0){
            pltb.getElementsByTagName("tr")[i].className='table-danger';
        }
        else {
            pltb.getElementsByTagName("tr")[i].className='table-success';
        }
}
</script>

</html>